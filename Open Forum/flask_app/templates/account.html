{% extends "header.html" %}
{% block content %}
<div class="row">
    {% if image %}
    <div class="col">
        {# Profile picture #}
        <img class="propic" src="data:image/png;base64,{{image}}" alt="image">
    </div>
    {% endif %}
    <div class="col">
        <h1> Welcome Back, {{ username }} !</h1>
    </div>
</div>
<div class="row">
    <div class="col">
        <h3>
        <a href="{{url_for('users.user_detail', username=username)}}">View comments</a>
        </h3>
    </div>
</div>
<div class="row">
    <div class="col">
        <h3>
            Update Contact Information
        </h3>
        <form method="POST" action="">
            {{ contactForm.csrf_token }}
            <div class="form-group">
                {{ contactForm.email.label }}
                {{ contactForm.email(class="form-control") }}
                {% if contactForm.email.errors %}
                <div class="alert alert-warning" role="alert">
                    {% for error in contactForm.email.errors %}
                    <span>{{ error }}</span>
                    {% endfor %}
                </div>
                {% endif %}
            </div>
            {{ contactForm.submit() }}
        </form>
    </div>
</div>
<div class="row">
    <div class="col">
        <h3>
            About Me
        </h3>
        {% if about %}
            <p>{{ about }}</p>
        {% endif %}
        <form method="POST" action="">
            {{ aboutForm.csrf_token }}
            <div class="form-group">
                {{ aboutForm.about.label }}
                {{ aboutForm.about(class="form-control") }}
                {% if aboutForm.about.errors %}
                <div class="alert alert-warning" role="alert">
                    {% for error in aboutForm.about.errors %}
                    <span>{{ error }}</span>
                    {% endfor %}
                </div>
                {% endif %}
            </div>
            <div class="form-group">
                {{ aboutForm.picture.label }}
                {{ aboutForm.picture(class="form-control") }}
                {% if aboutForm.picture.errors %}
                <div class="alert alert-warning" role="alert">
                    {% for error in aboutForm.picture.errors %}
                    <span>{{ error }}</span>
                    {% endfor %}
                </div>
                {% endif %}
            </div>
            {{ aboutForm.submit() }}
        </form>
    </div>
</div>
</div>
{% endblock %}